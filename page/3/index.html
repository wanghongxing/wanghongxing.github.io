<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hongxing.tech","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="红星">
<meta property="og:url" content="https://hongxing.tech/page/3/index.html">
<meta property="og:site_name" content="红星">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="wanghongxing">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://hongxing.tech/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-cn'
  };
</script>

  <title>红星</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">红星</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240205-Stable%20diffusion%20webui%20%E4%BD%BF%E7%94%A8sdXL_v10VAEFix.safetensors%20%E6%A8%A1%E5%9E%8B%E6%97%B6%E5%80%99%E6%8F%90%E7%A4%BA%20%20Downloading%20VAEApprox%20model%20TimeoutError/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240205-Stable%20diffusion%20webui%20%E4%BD%BF%E7%94%A8sdXL_v10VAEFix.safetensors%20%E6%A8%A1%E5%9E%8B%E6%97%B6%E5%80%99%E6%8F%90%E7%A4%BA%20%20Downloading%20VAEApprox%20model%20TimeoutError/" class="post-title-link" itemprop="url">20240205-Stable diffusion webui 使用sdXL_v10VAEFix.safetensors 模型时候提示  Downloading VAEApprox model TimeoutError</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-05 12:20:43" itemprop="dateCreated datePublished" datetime="2024-02-05T12:20:43+08:00">2024-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:01:52" itemprop="dateModified" datetime="2024-03-04T10:01:52+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Stable-diffusion-webui-使用sdXL-v10VAEFix-safetensors-模型时候提示-Downloading-VAEApprox-model-TimeoutError"><a href="#Stable-diffusion-webui-使用sdXL-v10VAEFix-safetensors-模型时候提示-Downloading-VAEApprox-model-TimeoutError" class="headerlink" title="Stable diffusion webui 使用sdXL_v10VAEFix.safetensors 模型时候提示  Downloading VAEApprox model TimeoutError"></a>Stable diffusion webui 使用sdXL_v10VAEFix.safetensors 模型时候提示  Downloading VAEApprox model TimeoutError</h1><p>使用sdXL_v10VAEFix.safetensors 模型时候提示  Downloading VAEApprox model to:  stable-diffusion-webui/models/VAE-approx/vaeapprox-sdxl.pt，大致是下载vaeapprox-sdxl.pt 文件失败。</p>
<p>参考： <a target="_blank" rel="noopener" href="https://www.stablediffusion-cn.com/sd/sd-knowledge/1339.html">https://www.stablediffusion-cn.com/sd/sd-knowledge/1339.html</a></p>
<p>究其原因是自动下载失败导致的，因为国内需要翻墙才能下载，但是启动 sd 的时候不能翻墙，导致下载失败。</p>
<p>该文件在 <a target="_blank" rel="noopener" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/releases/tag/v1.0.0-pre">Release v1.0.0-pre · AUTOMATIC1111/stable-diffusion-webui</a> ，自行下载并保存到models/VAE-approx目录下就行了</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240205-stable%20diffusion%20SDXL%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240205-stable%20diffusion%20SDXL%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">stable diffusion 提示词收集</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-05 10:26:25" itemprop="dateCreated datePublished" datetime="2024-02-05T10:26:25+08:00">2024-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:06:56" itemprop="dateModified" datetime="2024-03-04T10:06:56+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>提示词：</p>
<p><code>photo realistic, ultra details, natural light ultra detailed portrait of a female necromancer, skeleton face volumetric fog, Hyperrealism, breathtaking, ultra realistic, ultra detailed, cyber background, cinematic lighting, highly detailed, breathtaking, photography, stunning environment, wide-angle</code></p>
<p>Negative prompt: <code>(deformed iris, deformed pupils), text, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, (extra fingers), (mutated hands), poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, (fused fingers), (too many fingers), long neck, camera</code><br>Steps: 50, Sampler: Euler, CFG scale: 8, Seed: 2599470049, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</p>
<img src="../images/sd/00065-2599470049.png" alt="00065-2599470049" style="zoom:50%;" />

<img src="../images/sd/00070-1453177103.png" alt="00070-1453177103" style="zoom:50%;" />

<p><em>Steps: 20, Sampler: Euler a, CFG scale: 7.5, Seed: 1453177103, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00077-1453177105.png" alt="00077-1453177105" style="zoom:50%;" />

<p>Steps: 20, Sampler: UniPC, CFG scale: 8, Seed: 1453177105, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</p>
<p><img src="../images/sd/00078-1453177106.png" alt="00078-1453177106"></p>
<p><em>Steps: 20, Sampler: UniPC, CFG scale: 8, Seed: 1453177105, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00079-1453177107.png" alt="00079-1453177107" style="zoom:50%;" />

<p><em>Steps: 20, Sampler: UniPC, CFG scale: 8, Seed: 1453177107, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00080-1453177108.png" alt="00080-1453177108" style="zoom:50%;" />

<p><em>Steps: 20, Sampler: UniPC, CFG scale: 8, Seed: 1453177108, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00094-333969092.png" alt="00094-333969092" style="zoom:33%;" />

<p><em>Steps: 20, Sampler: UniPC, CFG scale: 8, Seed: 333969092, Size: 1024x1024, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00096-333969092.png" alt="00096-333969092" style="zoom:33%;" />

<p>Steps: 20, Sampler: Euler, CFG scale: 8, Seed: 333969092, Size: 1024x1024, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</p>
<img src="../images/sd/00095-2378502969.png" alt="00095-2378502969" style="zoom:33%;" />

<p><em>Steps: 20, Sampler: Euler, CFG scale: 8, Seed: 2378502969, Size: 1024x1024, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<p>提示词：</p>
<p><code>photo of young Chinese woman, highlight hair, sitting outside restaurant, wearing dress, rim lighting, studio lighting, looking at the camera, dslr, ultra quality, sharp focus, tack sharp, dof, film grain, Fujifilm XT3, crystal clear, 8K UHD, highly detailed glossy eyes, high detailed skin, skin pores</code></p>
<p>Negative prompt:</p>
<p><code>disfigured, ugly, bad, immature, cartoon, anime, 3d, painting, b&amp;w</code></p>
<img src="../images/sd/00100-333969092.png" alt="00100-333969092" style="zoom:50%;" />

<p><em>Steps: 20, Sampler: Euler, CFG scale: 8, Seed: 333969092, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<p><strong>prompt：</strong></p>
<p><code>photo of young Caucasian woman, highlight hair, sitting outside restaurant, wearing dress, rim lighting, studio lighting, looking at the camera, dslr, ultra quality, sharp focus, tack sharp, dof, film grain, Fujifilm XT3, crystal clear, 8K UHD, highly detailed glossy eyes, high detailed skin, skin pores</code></p>
<p><strong>Negative prompt:</strong></p>
<p><code>disfigured, ugly, bad, immature, cartoon, anime, 3d, painting, b&amp;w</code></p>
<img src="../images/sd/00101-333969092.png" alt="00101-333969092" style="zoom:50%;" />

<p><strong>Prompt</strong>：</p>
<p><code>masterpiece, best quality, greg rutkowski, fire, no humans, open mouth, wings, dragon, sharp teeth, teeth, tail, solo, breathing fire, horns, monster, claws, smoke , very detailed, high resolution, sharp, sharp image, 4k, 8k,</code></p>
<p>Nagative Prompt：</p>
<p><code>(deformed iris, deformed pupils), text, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, (extra fingers), (mutated hands), poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, (fused fingers), (too many fingers), long neck, camera</code></p>
<img src="../images/sd/00111-5.png" alt="00111-5" style="zoom:50%;" />

<p><em>Steps: 20, Sampler: Euler, CFG scale: 8, Seed: 5, Size: 512x512, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00113-3433749320.png" alt="00113-3433749320" style="zoom: 25%;" />

<p><em>Steps: 20, Sampler: Euler, CFG scale: 8, Seed: 3433749320, Size: 1024x1024, Model hash: e6bb9ea85b, Model: sdXL_v10VAEFix, VAE hash: e6bb9ea85b, VAE: sdXL_v10VAEFix.safetensors, Version: v1.7.0</em></p>
<img src="../images/sd/00117-3462443395.png" alt="00117-3462443395" style="zoom:25%;" />

<img src="../images/sd/00116-3462443394.png" alt="00116-3462443394" style="zoom:25%;" />

<img src="../images/sd/00115-3462443393.png" alt="00115-3462443393" style="zoom:25%;" />

<img src="../images/sd/00114-3462443392.png" alt="00114-3462443392" style="zoom:25%;" />
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240204-apple%20silicon%20install%20stable%20diffusion%20webui%E9%80%9F%E5%BA%A6%E6%85%A2%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240204-apple%20silicon%20install%20stable%20diffusion%20webui%E9%80%9F%E5%BA%A6%E6%85%A2%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="post-title-link" itemprop="url">20240204-apple silicon install stable diffusion webui速度慢的解决办法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-04 22:09:07" itemprop="dateCreated datePublished" datetime="2024-02-04T22:09:07+08:00">2024-02-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:06:27" itemprop="dateModified" datetime="2024-03-04T10:06:27+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>apple silicon install stable diffusion webui 后运行速度特别慢，参照 <a target="_blank" rel="noopener" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/7453">https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/7453</a></p>
<p>下载新的webui-user.sh文件，其实就是增加了三行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export COMMANDLINE_ARGS=&quot;--skip-torch-cuda-test --upcast-sampling --opt-sub-quad-attention --use-cpu interrogate&quot;</span><br><span class="line">venv_dir=&quot;venv-torch-nightly&quot;</span><br><span class="line">export TORCH_COMMAND=&quot;pip install --pre torch torchvision -f https://download.pytorch.org/whl/nightly/cpu/torch_nightly.html&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后重新执行webui.sh 后系统速度暴增。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240204-stable%20diffusion%20webui%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240204-stable%20diffusion%20webui%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">20240204-stable diffusion webui 提示词学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-04 22:09:07" itemprop="dateCreated datePublished" datetime="2024-02-04T22:09:07+08:00">2024-02-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:06:48" itemprop="dateModified" datetime="2024-03-04T10:06:48+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>参考 <a target="_blank" rel="noopener" href="https://ivonblog.com/posts/stable-diffusion-webui-manuals/prompts/general-prompt-guide/">Ivon的部落格</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">an asian girl on the beach</span><br></pre></td></tr></table></figure>

<img src="../images/sd/20240204001.png" alt="20240204001" style="zoom:50%;" />

<p>改用新的提示词</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1girl, asian, beach, ocean</span><br></pre></td></tr></table></figure>

<p>然后将batch count改为4</p>
<img src="../images/sd/20240204002.png" alt="20240204002" style="zoom:50%;" />





<p>再算一次，但是结果变了？没错，即使提示词相近，AI绘图每次生图结果都是随机的。要维持上一次的结果并微调，你得保留每次算图的种子码(Seed，SD WebUI界面右下角，亦会写在文件名上)。</p>
<p>这时候注意一下右下角的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1girl, asian, beach, ocean</span><br><span class="line">Steps: 20, Sampler: LMS, CFG scale: 7, Seed: 1655102876, Size: 512x560, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</span><br></pre></td></tr></table></figure>

<img src="../images/sd/00013-1655102876.png" alt="00013-1655102876" style="zoom:50%;" />

<p>新测试,在seed 处填入：1655102876</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1girl, asian, blue eyes, short hair, straw hat, standing, blue bikini, beach, ocean, orange sky</span><br><span class="line"></span><br><span class="line">Steps: 20, Sampler: LMS, CFG scale: 7, Seed: 1655102876, Size: 512x560, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="../images/sd/00014-1655102876.png" alt="00014-1655102876" style="zoom:50%;" />

<p>要改变风格，可以在提示词加入「风格」的提示词。这方面的提示词有：相片(photoshop)、3D建模(3d model)、装饰艺术(art deco)、石像(stone sculpture)等风格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a stone sculpture of 1girl, asian, blue eyes, beach, ocean</span><br><span class="line">Steps: 20, Sampler: DPM++ 2M SDE, CFG scale: 7, Seed: 1822157101, Size: 512x512,</span><br><span class="line">Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</span><br><span class="line"></span><br><span class="line">Time taken: 14.5 sec.</span><br></pre></td></tr></table></figure>

<img src="../images/sd/00019-1822157101.png" alt="00019-1822157101" style="zoom:50%;" />

<p>风格是很难界定的东西呢，一般来说我们会图片像哪个艺术家的风格对吧？那么不如直接「召唤」他们吧！提示词可以包含某位画家的名字，AI会尝试模仿其风格。例如加上「慕夏的作品」，并加入「大师级作品」的风格提示词：</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; 参考翻译：慕夏的作品，大师级作品，一个女孩，亚洲人，蓝眼睛，沙滩，海洋</span></span><br><span class="line">artwork by Alfons Maria Mucha, masterpiece, <span class="number">1</span>girl, asian, blue eyes, beach, ocean</span><br></pre></td></tr></table></figure>

<p>生图的结果就会变得像是慕夏的作品。顺带一提<code>masterpiece</code>这个提示词还蛮万用的，可以让作品维持一定水准。</p>
<img src="../images/sd/00023-3397365016.png" alt="00023-3397365016" style="zoom:50%;" />

<p>当然还可以画特定动漫人物的「二创」，只要将名字和作品名称打上去就可以了。有名的动漫角色只要出现名字，不用特别指定身体特征就会生成原作风格了，例如指定《新世纪福音战士》的惣流·明日香·兰格雷：</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">asuka_langley_souryuu from neon_genesis_evangelion, masterpiece, <span class="number">1</span>girl, beach, ocean</span><br></pre></td></tr></table></figure>

<img src="../images/sd/00026-1538503611.png" alt="00026-1538503611" style="zoom:50%;" />

<p>再次提醒，在下提示词的时候，生成图片使用的模型也需纳入考量。譬如想要生成特定动漫人物，去Danbooru找到了英文姓名，加上提示词，但你却用画真人的Stable Diffusion去算，则AI可能根本就不会认得你说的角色是谁，反之亦然。Danbooru的标签风格跟一般图片的描述还是有差距的。</p>
<p>除非日后有搜罗全部网络图片的超大模型出现，否则下提示词须配合模型种类来决定。</p>
<p>如果AI怎样都生成不出你要的风格或人物，请考虑换个模型，或是 <a target="_blank" rel="noopener" href="https://ivonblog.com/posts/stable-diffusion-webui-manuals/zh-cn/training/">自行训练模型</a>。</p>
<h1 id="负向提示词-Negative-Prompts"><a href="#负向提示词-Negative-Prompts" class="headerlink" title="负向提示词 Negative Prompts"></a>负向提示词 Negative Prompts</h1><p>上面我们只写提示词，但下面的负向提示词的字段都是空白。但生图时常常还需要加入一些负向提示词，避免掉不好的结果。AI绘图有时不会一次就算出好结果，所以还需要加上负向提示词来控制，尤其是大批算图的时候更为重要。</p>
<p>负向提示词会加入一些常见的「不好」的图片特征，例如低画质、最糟品质、画家签名、模糊、浮水印</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deformed, lowres, bad anatomy, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, artist name</span><br></pre></td></tr></table></figure>

<p>不想看到的东西也可以加进去。例如不想看到裸露、兵器、血、猎奇的元素出现，就加入<code>nsfw</code>、<code>weapon</code>、<code>blood</code>、<code>guro</code>至负向提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nsfw, weapon, blood, guro, lowres, bad anatomy, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts,signature, watermark, username, blurry, artist name</span><br></pre></td></tr></table></figure>

<p>提示词并非越多越好，正向提示词以不超过150个词元(token)为原则；不过负向提示词可以尽量把不想看到的都塞进去。</p>
<h1 id="Stable-Diffusion-WebUI独有语法"><a href="#Stable-Diffusion-WebUI独有语法" class="headerlink" title="Stable Diffusion WebUI独有语法"></a>Stable Diffusion WebUI独有语法</h1><p>此节列出的语法为AUTOMATIC1111制作的SD WebUI独有，使用其他人制作的Stable Diffusion程序不见得适用。</p>
<h2 id="关注度括号-Attention-emphasis"><a href="#关注度括号-Attention-emphasis" class="headerlink" title="关注度括号 Attention/emphasis"></a>关注度括号 Attention/emphasis</h2><p>控制关注度的符号，增加算图时对该提示词的关注度(attention)。简单来说，括号就是你想强调的重点元素，括号越多，生成的结果越会符合括号里的提示词。</p>
<p>SD WebUI使用小括号控制关注度： <code>( )</code> 小括号层次越多权重越高(不加小括号为1倍，每加一层小括号乘以1.1倍)。例如，强调「蓝眼睛」，生成的结果就更高几率是蓝眼睛人物</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">asuka_langley_souryuu from neon_genesis_evangelion, masterpiece, 1girl, beach, ocean, ((blue eyes))</span><br><span class="line">Steps: 20, Sampler: UniPC, CFG scale: 7, Seed: 1080937815, Size: 512x512, </span><br><span class="line">Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="../images/sd/00027-1080937815.png" alt="00027-1080937815" style="zoom:50%;" />





<p>亦可以直接写明要增强几倍关注度，但其实一般情况下不用设太强，用一二层的小括号就够了。</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">asuka_langley_souryuu from neon_genesis_evangelion, masterpiece, <span class="number">1</span>girl, beach, ocean, ((<span class="name">blue</span> eyes)),((<span class="name">yellow</span> hair))</span><br><span class="line">Steps: <span class="number">20</span>, Sampler: UniPC, CFG scale: <span class="number">7</span>, Seed: <span class="number">2199430340</span>, Size: <span class="number">512</span>x512,</span><br><span class="line">Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.<span class="number">7.0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="../images/sd/00028-2199430340.png" alt="00028-2199430340" style="zoom:50%;" />



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">asuka_langley_souryuu from neon_genesis_evangelion, masterpiece, 1girl, beach, ocean, ((blue eyes)),((yellow hair)),(Green clothes)</span><br><span class="line">Steps: 20, Sampler: UniPC, CFG scale: 7, </span><br><span class="line">Seed: 2630536656, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</span><br></pre></td></tr></table></figure>

<p>这时候对颜色的控制已经错乱了，说明提示词混乱了。</p>
<img src="../images/sd/00029-2630536656.png" alt="00029-2630536656" style="zoom:50%;" />





<h2 id="提示词编辑-Prompt-editing"><a href="#提示词编辑-Prompt-editing" class="headerlink" title="提示词编辑 Prompt editing"></a>提示词编辑 Prompt editing</h2><p>指定在到哪一步数的时候切换提示词。此处的中括号跟权重无关。</p>
<p>语法为<code>[提示词1:提示词2:要切换的步数]</code></p>
<p>例如，算图时设置20步，一开始算橘子，设置算到15步时切换成苹果</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[orange : apple : <span class="number">15</span>] on table</span><br></pre></td></tr></table></figure>

<p>这时候就是生成一个桔子</p>
<h2 id="切换单字-Alternating-Words"><a href="#切换单字-Alternating-Words" class="headerlink" title="切换单字 Alternating Words"></a>切换单字 Alternating Words</h2><p>使用<code>|</code>代表在每个步数切换提示词，例如我要在算图时于「蓝眼睛」或「红眼睛」或「黑眼睛」之间切换</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asian, woman, [blue eyes|red eyes|black eyes], beach, ocean</span><br></pre></td></tr></table></figure>

<h2 id="可组合性扩散-Composable-Diffusion"><a href="#可组合性扩散-Composable-Diffusion" class="headerlink" title="可组合性扩散 Composable Diffusion"></a>可组合性扩散 Composable Diffusion</h2><p>此语法让AI依照权重生成二个不同的对象。</p>
<p>例如生成橘子与苹果，中间用大写的<code>AND</code>连接</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">orange AND apple</span><br></pre></td></tr></table></figure>

<p>后面加上数字控制权重，初始值为1，数值低于0.1则无效。</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">orange :<span class="number">1.5</span> AND apple :<span class="number">2.5</span></span><br></pre></td></tr></table></figure>

<p>此语法适合搭配 <a target="_blank" rel="noopener" href="https://ivonblog.com/posts/stable-diffusion-webui-manuals/zh-cn/extensions/latent-couple/">ControlNet和Latent Couple</a>，可以准确控制图中对象的位置。</p>
<img src="../images/sd/00116-2587609433.png" alt="00116-2587609433" style="zoom:50%;" />



<h1 id="提示词范例"><a href="#提示词范例" class="headerlink" title="提示词范例"></a>提示词范例</h1><p>这里提供一些懒人包。负向提示词有些是通用的。</p>
<h2 id="生成可爱的狗勾"><a href="#生成可爱的狗勾" class="headerlink" title="生成可爱的狗勾"></a>生成可爱的狗勾</h2><p>让我们试着画几只柯基犬在草地上奔跑。</p>
<p>建议使用模型：Stable Diffusion、Realistic Vision</p>
<p>提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> corgi dogs running on grass field</span><br></pre></td></tr></table></figure>

<p>负向提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lowres, bad anatomy, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts,signature, watermark, username, blurry, artist name</span><br></pre></td></tr></table></figure>

<p>Steps: 20, Sampler: Euler a, CFG scale: 7, Seed: 2387293181, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</p>
<img src="../images/sd/00032-2387293181.png" alt="00032-2387293181" style="zoom:50%;" />



<h2 id="生成高科技未来城市"><a href="#生成高科技未来城市" class="headerlink" title="生成高科技未来城市"></a>生成高科技未来城市</h2><p>建议使用模型：Stable Diffusion、Realistic Vision</p>
<p>提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">city future, <span class="number">8</span>k, exploration, cinematic, realistic, unreal engine, hyper detailed, volumetric light, moody cinematic epic concept art, realistic matte painting, hyper photorealistic</span><br></pre></td></tr></table></figure>

<p>负向提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lowres, bad anatomy, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts,signature, watermark, username, blurry, artist name</span><br></pre></td></tr></table></figure>

<p>Steps: 20, Sampler: Euler a, CFG scale: 7, Seed: 299709774, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</p>
<img src="../images/sd/00034-299709774.png" alt="00034-299709774" style="zoom:50%;" />



<h2 id="生成一台特斯拉车子"><a href="#生成一台特斯拉车子" class="headerlink" title="生成一台特斯拉车子"></a>生成一台特斯拉车子</h2><p>建议使用模型：Stable Diffusion、Realistic Vision</p>
<p>提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">concept art,tesla car, aerodynamic, future</span><br></pre></td></tr></table></figure>

<p>负向提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lowres, bad anatomy, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts,signature, watermark, username, blurry, artist name</span><br></pre></td></tr></table></figure>

<p>Steps: 20, Sampler: Euler a, CFG scale: 7, Seed: 3821788433, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</p>
<img src="../images/sd/00041-3821788433.png" alt="00041-3821788433" style="zoom:50%;" />

<h2 id="生成动漫美少女"><a href="#生成动漫美少女" class="headerlink" title="生成动漫美少女"></a>生成动漫美少女</h2><p>建议使用模型：Anything、Hentai Diffusion</p>
<p>随机画一个Fate/Grand Order的贞德</p>
<p>提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jeanne d&#x27;arc from fate grand order, <span class="number">1</span>girl, (<span class="name">best</span> quality), (<span class="name">masterpiece</span>), (<span class="name">high</span> detail), ((<span class="name">full</span> face)), sharp, ((<span class="name">looking</span> at viewer)), ((<span class="name">detailed</span> pupils)), (<span class="name">thick</span> thighs), (((<span class="name">full</span> body))), (<span class="name">large</span> breasts)</span><br></pre></td></tr></table></figure>

<p>负向提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts,signature, watermark, username, blurry, artist name</span><br></pre></td></tr></table></figure>

<p>Steps: 20, Sampler: Euler, CFG scale: 7, Seed: 1480416086, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</p>
<img src="../images/sd/00052-1480416086.png" alt="00052-1480416086" style="zoom:50%;" />

<h2 id="生成日韩风真人女孩"><a href="#生成日韩风真人女孩" class="headerlink" title="生成日韩风真人女孩"></a>生成日韩风真人女孩</h2><p>建议使用模型：ChilloutMix、Perfect World，并适时使用Japanese Doll的LoRA。</p>
<p>随机画一个日本女孩，不要色色</p>
<p>提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">a</span> japanese woman), shiny skin, (<span class="name">ultra</span> high res,photorealistic,realistic,best quality,photo-realistic), (((<span class="name">high</span> detailed skin,visible pores))),(<span class="name">real</span> person,photograph), (<span class="number">8</span>k, raw photo, best quality, masterpiece),(<span class="number">1</span>girl),photon mapping, radiosity, physically-based rendering,automatic white balance,(<span class="name">haunting</span> smile,moist lips),watery eyes, (<span class="name">blush</span><span class="name">|cute and playful|</span><span class="name">adorable</span><span class="name">|thick bangs|</span><span class="name">beauty</span>),((<span class="name">irises</span> and pupils are rounded,the pupil reflects the surroundings,eyes are not the same size))</span><br></pre></td></tr></table></figure>

<p>负向提示词</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nude, lowres,blurry,simple background,jpeg artifacts,bad-artist,bad shadow,compressed image,low pixel,light spot, paintings,sketches,((<span class="name">monochrome</span>)),((<span class="name">grayscale</span>)),noise point,semi-realistic, <span class="number">3</span>d,render,cg,drawing,cartoon,anime,comic,username,watermark,signature,cropped,error,censored,text,stain, deformed iris,deformed pupils,deformed nail,deformed ear,deformed eye,deformed eyelid,collapsed eyeshadow, [excessive skin spots,excessive skin imperfections,skin blemishes,skin fold,rough skinstain skin],goosebumps,skin layering,axillary fold,facial contortion, (<span class="name">flawless</span> face),trimming</span><br></pre></td></tr></table></figure>

<p>Steps: 20, Sampler: DDIM, CFG scale: 7, Seed: 2228126458, Size: 512x512, Model hash: cc6cb27103, Model: v1-5-pruned-emaonly, Version: v1.7.0</p>
<img src="../images/sd/00057-2228126458.png" alt="00057-2228126458" style="zoom:50%;" />



<p><strong>Prompt:</strong></p>
<p><code>(a japanese woman), shiny skin, (ultra high res,photorealistic,realistic,best quality,photo-realistic), (((high detailed skin,visible pores))),(real person,photograph), (8k, raw photo, best quality, masterpiece),(1girl),photon mapping, radiosity, physically-based rendering,automatic white balance,(haunting smile,moist lips),watery eyes, (blush|cute and playful|adorable|thick bangs|beauty),((irises and pupils are rounded,the pupil reflects the surroundings,eyes are not the same size))</code></p>
<img src="/Users/whx/Documents/wanghongxing.github.com/source/images/sd/20240207110110-1201812112.png" alt="20240207110110-1201812112" style="zoom:50%;" />

<p>Steps: 20, Sampler: Euler a, CFG scale: 7, Seed: 1201812112, Size: 512x512, Model hash: 4199bcdd14, Model: revAnimated_v122EOL, Version: v1.7.0</p>
<h1 id="5-值得参考的提示词网站"><a href="#5-值得参考的提示词网站" class="headerlink" title="5. 值得参考的提示词网站 #"></a>5. 值得参考的提示词网站 <a target="_blank" rel="noopener" href="https://ivonblog.com/posts/stable-diffusion-webui-manuals/zh-cn/prompts/general-prompt-guide/#5-%E5%80%BC%E5%BE%97%E5%8F%82%E8%80%83%E7%9A%84%E6%8F%90%E7%A4%BA%E8%AF%8D%E7%BD%91%E7%AB%99">#</a></h1><p>若使用的是SD模型，想生成真人，请看 <a target="_blank" rel="noopener" href="https://rentry.org/artists_sd-v1-4">Voldy</a>整理的历史上有名的艺术家。</p>
<p>若使用动漫风的模型请看 <a target="_blank" rel="noopener" href="https://danbooru.donmai.us/">Danbooru</a>图库的标签决定要下哪些提示词。</p>
<p><a target="_blank" rel="noopener" href="https://promptomania.com/stable-diffusion-prompt-builder/">Prompt Generator</a>和 <a target="_blank" rel="noopener" href="https://thereisnospon.github.io/NovelAiTag/">NovelAI魔导书</a>可以协助你组合提示词。</p>
<p><a target="_blank" rel="noopener" href="https://civitai.com/">Civitai</a>除了下载模型外，还有很多现成的提示词搭配模型的范例可以照抄。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240204-macos%20%E5%AE%89%E8%A3%85ComfyUI/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240204-macos%20%E5%AE%89%E8%A3%85ComfyUI/" class="post-title-link" itemprop="url">macos 安装ComfyUI</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-04 11:00:54" itemprop="dateCreated datePublished" datetime="2024-02-04T11:00:54+08:00">2024-02-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:06:35" itemprop="dateModified" datetime="2024-03-04T10:06:35+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p> <a target="_blank" rel="noopener" href="https://github.com/comfyanonymous/ComfyUI">https://github.com/comfyanonymous/ComfyUI</a></p>
<h3 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h3><p>Install the dependencies by opening your terminal inside the ComfyUI folder and:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda activate comfyui</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>



<h4 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python main.py --force-fp16</span><br></pre></td></tr></table></figure>



<h2 id="comfyUI-examples"><a href="#comfyUI-examples" class="headerlink" title="comfyUI examples"></a>comfyUI examples</h2><p><a target="_blank" rel="noopener" href="https://comfyanonymous.github.io/ComfyUI_examples/">https://comfyanonymous.github.io/ComfyUI_examples/</a></p>
<p>这里包含所有comfyUI的例子，这里所有图片都包含可以被comfyUI加载的 metadata 信息</p>
<p>RealESRGAN_x4plus.pth </p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/lllyasviel/Annotators/blob/main/RealESRGAN_x4plus.pth">https://huggingface.co/lllyasviel/Annotators/blob/main/RealESRGAN_x4plus.pth</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240204-apple%20silicon%20Install%20pytorch%20nightly/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240204-apple%20silicon%20Install%20pytorch%20nightly/" class="post-title-link" itemprop="url">apple silicon Install pytorch nightly</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-04 11:00:39" itemprop="dateCreated datePublished" datetime="2024-02-04T11:00:39+08:00">2024-02-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:06:09" itemprop="dateModified" datetime="2024-03-04T10:06:09+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://developer.apple.com/metal/pytorch/">https://developer.apple.com/metal/pytorch/</a></p>
<h5 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h5><h4 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h4><p>Apple silicon</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.sh</span><br><span class="line">sh Miniconda3-latest-MacOSX-arm64.sh</span><br></pre></td></tr></table></figure>



<h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><h5 id="Anaconda-1"><a href="#Anaconda-1" class="headerlink" title="Anaconda"></a>Anaconda</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision torchaudio -c pytorch-nightly</span><br></pre></td></tr></table></figure>

<h5 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --pre torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/nightly/cpu</span><br></pre></td></tr></table></figure>

<h4 id="Verify"><a href="#Verify" class="headerlink" title="Verify"></a>Verify</h4><p>You can verify <code>mps</code> support using a simple Python script:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import torch</span><br><span class="line">if torch.backends.mps.is_available():</span><br><span class="line">    mps_device = torch.device(&quot;mps&quot;)</span><br><span class="line">    x = torch.ones(1, device=mps_device)</span><br><span class="line">    print (x)</span><br><span class="line">else:</span><br><span class="line">    print (&quot;MPS device not found.&quot;)</span><br></pre></td></tr></table></figure>

<p>The output should show:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensor([1.], device=&#x27;mps:0&#x27;)</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240202-oracle%20%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240202-oracle%20%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/" class="post-title-link" itemprop="url">oracle 创建远程连接</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-02 10:58:02" itemprop="dateCreated datePublished" datetime="2024-02-02T10:58:02+08:00">2024-02-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:05:59" itemprop="dateModified" datetime="2024-03-04T10:05:59+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE LINK remote_db</span><br><span class="line"><span class="keyword">CONNECT</span> <span class="keyword">TO</span> remote_username IDENTIFIED <span class="keyword">BY</span> remote_password</span><br><span class="line"><span class="keyword">USING</span> <span class="string">&#x27;172.16.40.2:1521/HWDB&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> db_link,username,host <span class="keyword">from</span> dba_db_links;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240124-npm%20install%20ssl%E8%AF%81%E4%B9%A6%E5%A4%B1%E6%95%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240124-npm%20install%20ssl%E8%AF%81%E4%B9%A6%E5%A4%B1%E6%95%88/" class="post-title-link" itemprop="url">npm install ssl证书失效</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-01-24 12:33:49" itemprop="dateCreated datePublished" datetime="2024-01-24T12:33:49+08:00">2024-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:05:47" itemprop="dateModified" datetime="2024-03-04T10:05:47+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>npm config set strict-ssl false</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240111-%E5%BC%80%E6%BA%90%E5%A4%87%E4%BB%BDbackupPC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240111-%E5%BC%80%E6%BA%90%E5%A4%87%E4%BB%BDbackupPC/" class="post-title-link" itemprop="url">20240111开源备份backupPC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-01-11 17:03:51" itemprop="dateCreated datePublished" datetime="2024-01-11T17:03:51+08:00">2024-01-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-10-12 14:25:27" itemprop="dateModified" datetime="2024-10-12T14:25:27+08:00">2024-10-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>3.x版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">yum install BackupPC</span><br><span class="line"></span><br><span class="line">cd /usr/share/BackupPC/</span><br><span class="line">chown backuppc:apache sbin/*</span><br><span class="line">cd sbin</span><br><span class="line"></span><br><span class="line">chmod u+s BackupPC_Admin</span><br><span class="line"></span><br><span class="line">usermod -s /bin/bash backuppc</span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"># /etc/BackupPC/config.pl</span><br><span class="line">$Conf&#123;CgiAdminUsers&#125;     = &#x27;backuppc&#x27;;</span><br><span class="line">$Conf&#123;PingPath&#125; = &#x27;/bin/ping&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">htpasswd -c /etc/BackupPC/apache.users backuppc</span><br><span class="line"></span><br><span class="line">zaq1XSW2</span><br><span class="line"></span><br><span class="line">systemctl restart backuppc</span><br><span class="line"> systemctl restart httpd</span><br></pre></td></tr></table></figure>



<p>4.x</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum --enablerepo=extras -y install epel-release</span><br><span class="line">yum --enablerepo=epel-testing -y install BackupPC-XS rsync-bpc</span><br><span class="line"></span><br><span class="line"> yum groupinstall &quot;Development Tools&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>安装BackupPC-XS</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> https://objects.githubusercontent.com/github-production-release-asset-2e65be/ </span><br><span class="line">tar zxf BackupPC-XS-0.62.tar.gz</span><br><span class="line">cd BackupPC-XS-0.62</span><br><span class="line"></span><br><span class="line">perl Makefile.PL</span><br><span class="line">make</span><br><span class="line">make test</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>



<h1 id="Install-the-following-requisites-for-BackupPC-version-4-3-1"><a href="#Install-the-following-requisites-for-BackupPC-version-4-3-1" class="headerlink" title="Install the following requisites for BackupPC version 4.3.1"></a>Install the following requisites for BackupPC version 4.3.1</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">yum -y install bzip2 httpd mod_perl par2cmdline perl-Archive-Zip perl-CGI \</span><br><span class="line">perl-Compress-Raw-Zlib perl-Data-Dumper perl-Digest-MD5 perl-File-Listing \</span><br><span class="line">perl-File-RsyncP perl-Net-FTP-AutoReconnect perl-Net-FTP-RetrHandle \</span><br><span class="line">perl-Time-ParseDate perl-XML-RSS perl-version rrdtool samba-client</span><br></pre></td></tr></table></figure>

<h1 id="Lets-set-up-some-directories-that-we-are-going-to-use-later"><a href="#Lets-set-up-some-directories-that-we-are-going-to-use-later" class="headerlink" title="Lets set up some directories that we are going to use later."></a>Lets set up some directories that we are going to use later.</h1><p>My backuppc server has a raid10 array mounted at /data/. I am going to use this to store the data for backuppc. Lets create the backuppc folder on my raid. Note: this folder can grow to be extremely large.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /data/backuppc</span><br></pre></td></tr></table></figure>



<p>Now lets create one more folder for BackupPC to store some web interface files.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /var/www/html/backuppc</span><br></pre></td></tr></table></figure>



<p>And create the cgi-bin directory for backuppc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /var/www/cgi-bin/backuppc</span><br></pre></td></tr></table></figure>



<p>Make note of those 2 directories. The installer will ask for them if we don’t explicitly set them below.</p>
<h1 id="Create-and-setup-the-backuppc-user"><a href="#Create-and-setup-the-backuppc-user" class="headerlink" title="Create and setup the backuppc user."></a>Create and setup the backuppc user.</h1><p>Create group backuppc.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd backuppc</span><br></pre></td></tr></table></figure>



<p>Create backuppc user, and tell it where its home folder is. My backuppc user’s home folder is /opt/backuppc. Change this to whatever you’d like.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd --home-dir /opt/backuppc --create-home --shell /bin/bash --base-dir /opt/backuppc --gid backuppc backuppc</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Set-Permissions-on-the-directories-we-created"><a href="#Set-Permissions-on-the-directories-we-created" class="headerlink" title="Set Permissions on the directories we created:"></a>Set Permissions on the directories we created:</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown -R backuppc:backuppc /data/backuppc</span><br><span class="line">chown -R backuppc:backuppc /opt/backuppc</span><br></pre></td></tr></table></figure>

<h1 id="Download-the-BackupPC-tar-gz-archive-and-extract-it"><a href="#Download-the-BackupPC-tar-gz-archive-and-extract-it" class="headerlink" title="Download the BackupPC tar.gz archive and extract it."></a>Download the BackupPC tar.gz archive and extract it.</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">wget https://github.com/backuppc/backuppc/releases/download/4.4.0/BackupPC-4.4.0.tar.gz</span><br><span class="line">tar zxf BackupPC-4.4.0.tar.gz</span><br><span class="line">cd BackupPC-4.4.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Run-the-configure-pl-script"><a href="#Run-the-configure-pl-script" class="headerlink" title="Run the configure.pl script"></a>Run the configure.pl script</h1><p>Pay close attention to the paths in this command.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">perl configure.pl --batch --cgi-dir /var/www/cgi-bin/backuppc \</span><br><span class="line">--data-dir /data0/backuppc --hostname backuppc --html-dir /var/www/html/backuppc \</span><br><span class="line">--html-dir-url /backuppc --install-dir /opt/backuppc</span><br></pre></td></tr></table></figure>



<p>Alternatively, you can execute the perl script with no arguments and it will walk you through the install step by step. This is the preferred method if you are upgrading a version 3.X install. (Not supported by this guide)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">perl configure.pl</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Ok, we&#x27;re about to:</span><br><span class="line"></span><br><span class="line">  - install the binaries, lib and docs in /usr/local/BackupPC</span><br><span class="line">  - create the data directory /data/BackupPC</span><br><span class="line">  - optionally install the cgi-bin interface</span><br><span class="line">  - create/update the config.pl file /etc/BackupPC/config.pl</span><br><span class="line">--&gt; Do you want to continue? [y]?</span><br><span class="line">Created /usr/local/BackupPC/bin</span><br><span class="line">Created /usr/local/BackupPC/share</span><br><span class="line">Created /usr/local/BackupPC/share/doc</span><br><span class="line">Created /usr/local/BackupPC/share/doc/BackupPC</span><br><span class="line">Created /usr/local/BackupPC/lib</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC/CGI</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC/Config</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC/Lang</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC/Storage</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC/Xfer</span><br><span class="line">Created /usr/local/BackupPC/lib/BackupPC/Zip</span><br><span class="line">Created /usr/local/BackupPC/lib/Net</span><br><span class="line">Created /usr/local/BackupPC/lib/Net/FTP</span><br><span class="line">Created /data/BackupPC</span><br><span class="line">Created /data/BackupPC/pool</span><br><span class="line">Created /data/BackupPC/cpool</span><br><span class="line">Created /data/BackupPC/pc</span><br><span class="line">Created /etc/BackupPC</span><br><span class="line">Created /var/log/BackupPC</span><br><span class="line">Created /var/run/BackupPC</span><br><span class="line">Installing binaries in /usr/local/BackupPC/bin</span><br><span class="line">Installing library in /usr/local/BackupPC/lib</span><br><span class="line">Making systemd and init.d scripts</span><br><span class="line">Making Apache configuration file for suid-perl</span><br><span class="line">Installing docs in /usr/local/BackupPC/share/doc/BackupPC</span><br><span class="line">Installing cgi script BackupPC_Admin in /var/www/cgi-bin/backuppc</span><br><span class="line">Installing config.pl and hosts in /etc/BackupPC</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Enjoy!  </span><br></pre></td></tr></table></figure>

<h1 id="Apache-config"><a href="#Apache-config" class="headerlink" title="Apache config"></a>Apache config</h1><p>I chose the CGI route (not S-CGI) and chose the directory /var/www/cgi-bin/backuppc for my CGI directory. I chose /var/www/html/backuppc as my images directory. You may need to set this path in the config if you ran the configure.pl script with no arguments.</p>
<p>Now we need to copy the Apache config into the apache conf.d directory.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp httpd/BackupPC.conf /etc/httpd/conf.d/</span><br></pre></td></tr></table></figure>

<h1 id="Install-the-included-systemd-script"><a href="#Install-the-included-systemd-script" class="headerlink" title="Install the included systemd script:"></a>Install the included systemd script:</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp systemd/backuppc.service /etc/systemd/system/</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl start backuppc</span><br><span class="line">systemctl enable backuppc</span><br></pre></td></tr></table></figure>

<h1 id="Create-the-backuppc-authentication-file"><a href="#Create-the-backuppc-authentication-file" class="headerlink" title="Create the backuppc authentication file."></a>Create the backuppc authentication file.</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c /etc/BackupPC/BackupPC.users backuppc</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>



<p>Note: this sets the username to backuppc (modify it to your liking)</p>
<p>Set permissions on this file.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown backuppc:backuppc /etc/BackupPC/BackupPC.users</span><br></pre></td></tr></table></figure>

<h1 id="Edit-the-config-pl-file-in-etc-BackupPC"><a href="#Edit-the-config-pl-file-in-etc-BackupPC" class="headerlink" title="Edit the config.pl file in /etc/BackupPC/"></a>Edit the config.pl file in /etc/BackupPC/</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/BackupPC/config.pl</span><br></pre></td></tr></table></figure>



<p>Check the image directory and image url variables.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Conf&#123;CgiImageDir&#125; = &#x27;/var/www/html/backuppc&#x27;;</span><br><span class="line">$Conf&#123;CgiImageDirURL&#125; = &#x27;/BackupPc&#x27;;</span><br></pre></td></tr></table></figure>



<p>Also add backuppc as the administrative user: <code>$Conf&#123;CgiAdminUsers&#125;     = &#39;backuppc&#39;;</code></p>
<p>这时候不能往/etc/BackupPC目录写东西，</p>
<p>chcon -R -t httpd_sys_content_t /etc/BackupPC</p>
<p>查看备份内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 列表</span><br><span class="line">BackupPC_ls -h bi-server -n 0 -s /data/bakdata /</span><br><span class="line">BackupPC_ls -h erp-oracle -n 1 -s /backup/bakdata /</span><br><span class="line"></span><br><span class="line">#查看文件</span><br><span class="line">BackupPC_zcat -h erp-oracle -n 1 -s /backup/bakdata /navy_bak221220_full.log</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://hongxing.tech/20240110-Linux%E6%9F%A5%E7%9C%8BCPU%E4%BF%A1%E6%81%AF%EF%BC%8C%E6%9C%BA%E5%99%A8%E5%9E%8B%E5%8F%B7%EF%BC%8C%E5%86%85%E5%AD%98%E7%AD%89%E4%BF%A1%E6%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="wanghongxing">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="红星">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/20240110-Linux%E6%9F%A5%E7%9C%8BCPU%E4%BF%A1%E6%81%AF%EF%BC%8C%E6%9C%BA%E5%99%A8%E5%9E%8B%E5%8F%B7%EF%BC%8C%E5%86%85%E5%AD%98%E7%AD%89%E4%BF%A1%E6%81%AF/" class="post-title-link" itemprop="url">20240110- Linux查看CPU信息，机器型号，内存等信息</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-01-10 14:06:33" itemprop="dateCreated datePublished" datetime="2024-01-10T14:06:33+08:00">2024-01-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-03-04 10:07:02" itemprop="dateModified" datetime="2024-03-04T10:07:02+08:00">2024-03-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux查看CPU信息，机器型号，内存等信息"><a href="#Linux查看CPU信息，机器型号，内存等信息" class="headerlink" title="Linux查看CPU信息，机器型号，内存等信息"></a>Linux查看CPU信息，机器型号，内存等信息</h1><h2 id="1-系统"><a href="#1-系统" class="headerlink" title="1. 系统"></a>1. 系统</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">uname -a</td>
<td align="left">查看内核/操作系统/CPU信息</td>
</tr>
<tr>
<td align="left">head -n 1 /etc/issue</td>
<td align="left">查看操作系统版本</td>
</tr>
<tr>
<td align="left">cat /proc/cpuinfo</td>
<td align="left">查看CPU信息</td>
</tr>
<tr>
<td align="left">hostname</td>
<td align="left">查看计算机名</td>
</tr>
<tr>
<td align="left">lspci -tv</td>
<td align="left">列出所有PCI设备</td>
</tr>
<tr>
<td align="left">lsusb -tv</td>
<td align="left">列出所有USB设备</td>
</tr>
<tr>
<td align="left">lsmod</td>
<td align="left">列出加载的内核模块</td>
</tr>
<tr>
<td align="left">env</td>
<td align="left">查看环境变量</td>
</tr>
<tr>
<td align="left">lspci | grep -i nvidia</td>
<td align="left">查看NVIDIA显卡</td>
</tr>
</tbody></table>
<hr>
<h2 id="2-资源"><a href="#2-资源" class="headerlink" title="2. 资源"></a>2. 资源</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">free -m</td>
<td align="left">查看内存使用量和交换区使用量</td>
</tr>
<tr>
<td align="left">df -h</td>
<td align="left">查看各分区使用情况</td>
</tr>
<tr>
<td align="left">du -sh &lt;目录名&gt;</td>
<td align="left">查看指定目录的大小</td>
</tr>
<tr>
<td align="left">grep MemTotal /proc/meminfo</td>
<td align="left">查看内存总量</td>
</tr>
<tr>
<td align="left">grep MemFree /proc/meminfo</td>
<td align="left">查看空闲内存量</td>
</tr>
<tr>
<td align="left">uptime</td>
<td align="left">查看系统运行时间、用户数、负载</td>
</tr>
<tr>
<td align="left">cat /proc/loadavg</td>
<td align="left">查看系统负载</td>
</tr>
</tbody></table>
<hr>
<h2 id="3-磁盘和分区"><a href="#3-磁盘和分区" class="headerlink" title="3. 磁盘和分区"></a>3. 磁盘和分区</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">mount</td>
<td align="left">column -t</td>
<td align="left">查看挂接的分区状态</td>
</tr>
<tr>
<td align="left">fdisk -l</td>
<td align="left">查看所有分区</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">swapon -s</td>
<td align="left">查看所有交换分区</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">hdparm -i /dev/hda</td>
<td align="left">查看磁盘参数(仅适用于IDE设备)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">dmesg</td>
<td align="left">grep IDE</td>
<td align="left">查看启动时IDE设备检测状况</td>
</tr>
</tbody></table>
<hr>
<h2 id="4-网络"><a href="#4-网络" class="headerlink" title="4. 网络"></a>4. 网络</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ifconfig</td>
<td align="left">查看所有网络接口的属性</td>
</tr>
<tr>
<td align="left">iptables -L</td>
<td align="left">查看防火墙设置</td>
</tr>
<tr>
<td align="left">route -n</td>
<td align="left">查看路由表</td>
</tr>
<tr>
<td align="left">netstat -lntp</td>
<td align="left">查看所有监听端口</td>
</tr>
<tr>
<td align="left">netstat -antp</td>
<td align="left">查看所有已经建立的连接</td>
</tr>
<tr>
<td align="left">netstat -s</td>
<td align="left">查看网络统计信息</td>
</tr>
</tbody></table>
<hr>
<h2 id="5-进程"><a href="#5-进程" class="headerlink" title="5. 进程"></a>5. 进程</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ps -ef</td>
<td align="left">查看所有进程</td>
</tr>
<tr>
<td align="left">top</td>
<td align="left">实时显示进程状态</td>
</tr>
</tbody></table>
<hr>
<h2 id="6-用户"><a href="#6-用户" class="headerlink" title="6. 用户"></a>6. 用户</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">w</td>
<td align="left">查看活动用户</td>
</tr>
<tr>
<td align="left">id &lt;用户名&gt;</td>
<td align="left">查看指定用户信息</td>
</tr>
<tr>
<td align="left">last</td>
<td align="left">查看用户登录日志</td>
</tr>
<tr>
<td align="left">cut -d: -f1 /etc/passwd</td>
<td align="left">查看系统所有用户</td>
</tr>
<tr>
<td align="left">cut -d: -f1 /etc/group</td>
<td align="left">查看系统所有组</td>
</tr>
<tr>
<td align="left">crontab -l</td>
<td align="left">查看当前用户的计划任务</td>
</tr>
</tbody></table>
<hr>
<h2 id="7-服务"><a href="#7-服务" class="headerlink" title="7. 服务"></a>7. 服务</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">chkconfig –list</td>
<td align="left">列出所有系统服务</td>
</tr>
<tr>
<td align="left">chkconfig –list | grep on</td>
<td align="left">列出所有启动的系统服务</td>
</tr>
</tbody></table>
<hr>
<h2 id="8-程序"><a href="#8-程序" class="headerlink" title="8. 程序"></a>8. 程序</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rpm -qa</td>
<td align="left">查看所有安装的软件包</td>
</tr>
</tbody></table>
<hr>
<h2 id="9-查看CPU信息（型号）"><a href="#9-查看CPU信息（型号）" class="headerlink" title="9. 查看CPU信息（型号）"></a>9. 查看CPU信息（型号）</h2><ul>
<li>CPU型号<br><code>cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c</code></li>
<li>几颗核心<br><code>cat /proc/cpuinfo | grep physical | uniq -c </code></li>
<li>查看CPU模式<br><code>getconf LONG_BIT</code></li>
<li>查看CPU运算flags<br><code>cat /proc/cpuinfo | grep flags | grep &#39; lm &#39; | wc -l</code></li>
<li>完整看cpu详细信息<br><code>dmidecode | grep &#39;Processor Information</code></li>
<li>查看内存信息<br><code>cat /proc/meminfo</code></li>
<li>查看当前操作系统内核信息<br><code>uname -a</code></li>
<li>查看当前操作系统发行版信息<br><code>cat /etc/issue | grep Linux</code></li>
<li>查看机器型号<br><code>dmidecode | grep &quot;Product Name</code></li>
<li>查看网卡信息<br><code>dmesg | grep -i eth</code></li>
</ul>
<h2 id="10-GPU相关命令"><a href="#10-GPU相关命令" class="headerlink" title="10. GPU相关命令"></a>10. GPU相关命令</h2><ul>
<li>查看显卡信息<br><code>lspci | grep -i vga</code></li>
<li>若使用NVIDIA显卡<br><code>lspci | grep -i nvidia</code></li>
<li>查看显卡详情<br><code>lspci -v -s 00:0f.0</code></li>
<li>查看显存使用情况<br><code>nvidia-smi</code></li>
<li>周期性输出显卡使用情况<br><code>watch -n 10 nvidia-smi</code></li>
<li>查看cuda版本<br><code>cat /usr/local/cuda/version.txt</code></li>
<li>查看cudnn版本<br><code>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</code></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">wanghongxing</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wanghongxing</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
